<Stats>:
    id: stats
    BoxLayout:
        orientation: 'vertical'
        spacing: "10dp"
        padding: 25, 10
        MDCard:
            orientation: "vertical"
            size_hint_y: .05
            pos_hint: {"center_x": .5, "center_y": .5}
            border_radius: 2
            MDLabel:
                text: "ESTAD√çSTICAS"
                font_style:'H6'
                theme_text_color: "Secondary"
                size_hint_y: None
                height: self.texture_size[1]
                halign: "center"
        BoxLayout:
            size_hint_y: .8
            spacing: "10dp"
            padding: 25, 10
            MDBoxLayout:
                orientation: "vertical"
                size_hint_x: .5
                spacing: "10dp"

                MDCard:
                    orientation: "vertical"
                    padding: "8dp"
                    size_hint_y: .2
                    pos_hint: {"center_x": .5, "center_y": .5}
                    border_radius: 2
                    MDLabel:
                        text: "Total Flores Procesadas"
                        font_style:'Subtitle1'
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: "center"
                    MDSeparator:
                        height: "1dp"
                    MDLabel:
                        id: global_flower_quantity
                        text: "30"
                        font_style:'Subtitle1'
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: "center"
                MDCard:
                    orientation: "vertical"
                    padding: "8dp"
                    size_hint_y: .2
                    pos_hint: {"center_x": .5, "center_y": .5}
                    border_radius: 2
                    MDLabel:
                        text: "Selecta"
                        font_style:'Subtitle1'
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: "center"
                    MDSeparator:
                        height: "1dp"
                    MDLabel:
                        id: stats_quantity_select
                        text: "16"
                        font_style:'Subtitle1'
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: "center"
                MDCard:
                    orientation: "vertical"
                    padding: "8dp"
                    size_hint_y: .2
                    pos_hint: {"center_x": .5, "center_y": .5}
                    border_radius: 2
                    MDLabel:
                        text: "Mini"
                        font_style:'Subtitle1'
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: "center"
                    MDSeparator:
                        height: "1dp"
                    MDLabel:
                        id: stats_quantity_mini
                        text: "8"
                        font_style:'Subtitle1'
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: "center"
                MDCard:
                    orientation: "vertical"
                    padding: "8dp"
                    size_hint_y: .2
                    pos_hint: {"center_x": .5, "center_y": .5}
                    border_radius: 2
                    MDLabel:
                        text: "Blue"
                        font_style:'Subtitle1'
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: "center"
                    MDSeparator:
                        height: "1dp"
                    MDLabel:
                        id: stats_quantity_blue
                        text: "6"
                        font_style:'Subtitle1'
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: "center"
            MDBoxLayout:
                spacing: "10dp"
                orientation: "vertical"
                size_hint_x: 0.5
                MDCard:
                    orientation: "vertical"
                    padding: "8dp"
                    size_hint_y: .2
                    pos_hint: {"center_x": .5, "center_y": .5}
                    border_radius: 2
                    MDLabel:
                        text: "Total Pedidos Procesados"
                        font_style:'Subtitle1'
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: "center"
                    MDSeparator:
                        height: "1dp"
                    MDLabel:
                        id: global_order_quantity
                        text: "2"
                        font_style:'Subtitle1'
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: "center"
                MDCard:
                    orientation: "vertical"
                    padding: "8dp"
                    size_hint_y: .2
                    pos_hint: {"center_x": .5, "center_y": .5}
                    border_radius: 2
                    MDLabel:
                        text: "Eficiencia"
                        font_style:'Subtitle1'
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: "center"
                    MDSeparator:
                        height: "1dp"
                    MDLabel:
                        id: performance
                        text: "4.2 flores/min"
                        font_style:'Subtitle1'
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: "center"

                MDCard:
                    orientation: "vertical"
                    padding: "8dp"
                    size_hint_y: .2
                    pos_hint: {"center_x": .5, "center_y": .5}
                    border_radius: 2
                    MDLabel:
                        text: "Promedio NDVI"
                        font_style:'Subtitle1'
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: "center"
                    MDSeparator:
                        height: "1dp"
                    MDLabel:
                        id: average_ndvi
                        text: "0.81"
                        font_style:'Subtitle1'
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: "center"

        MDCard:
            size_hint_y: .15
            pos_hint: {"center_x": .5, "center_y": .5}
            border_radius: 2
            spacing: "80dp"
            padding: 25, 10
            MDTextField:
                id: field_stats_date_start
                hint_text: "Fecha Inicio "
                mode: "rectangle"
                current_hint_text_color:0, 0, 0, 1
            MDTextField:
                id: field_stats_date_end
                hint_text: "Fecha Final "
                mode: "rectangle"
                current_hint_text_color:0, 0, 0, 1
            MDRaisedButton:
                text: "Buscar"
                pos_hint: {"center_x": .5 , "center_y":.5}
                on_release: stats.calculate_stats()
