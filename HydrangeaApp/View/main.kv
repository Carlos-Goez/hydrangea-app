#: include home.kv
#: include order.kv
#: include stats.kv
#: include setting.kv
#: include history.kv
#: include login.kv
#: include signup.kv

<ContentNavigationDrawer>:
    id: cont_nav_drawer
    orientation: "vertical"
    padding: "8dp"
    spacing: "8dp"
    MDIconButton:
        icon: 'account'
        user_font_size: '100sp'
        text: 'account'
    MDLabel:
        id: name_account
        text: "None"
        font_style: 'Subtitle1'
        size_hint_y: None
        height: self.texture_size[1]
    MDLabel:
        id: role_account
        text: "None"
        font_style: 'Caption'
        size_hint_y: None
        height: self.texture_size[1]

    ScrollView:
        ListMenu:
            id: list_menu
            OneLineIconListItem:
                text: "Principal"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "Screen Home"
                IconLeftWidget:
                    icon: 'home'
            OneLineIconListItem:
                text: "Ingresar"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "Screen Login"
                IconLeftWidget:
                    icon: 'login'
            OneLineIconListItem:
                text: "Registrar"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "Screen SignUp"
                IconLeftWidget:
                    icon: 'clipboard-account'
            OneLineIconListItem:
                text: "Salir"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "Screen Login"
                    list_menu.logout()
                IconLeftWidget:
                    icon: 'logout'

<Toolbar>:
    pos_hint: {"top": 1}
    elevation: 10
    title: "HydrangeaApp"
    left_action_items: [["account", lambda x: root.nav_drawer.set_state("open")]]

<DataTableOrderActive>:

<DataOrderActiveTitle>:
    MDBoxLayout:
        spacing: "10dp"
        MDCard:
            orientation: "vertical"
            padding: "8dp"
            size_hint_x: .2
            pos_hint: {"center_x": .5, "center_y": .5}
            border_radius: 2
            MDLabel:
                text: "Pedido"
                font_style:'Subtitle1'
                theme_text_color: "Primary"
                size_hint_y: None
                height: self.texture_size[1]
                halign: "center"
                valign: "middle"
        MDCard:
            orientation: "vertical"
            padding: "8dp"
            size_hint_x: .2
            pos_hint: {"center_x": .5, "center_y": .5}
            border_radius: 2
            MDLabel:
                text: "Posición Caja"
                font_style:'Subtitle1'
                theme_text_color: "Primary"
                size_hint_y: None
                height: self.texture_size[1]
                halign: "center"
                valign: "middle"
        MDCard:
            orientation: "vertical"
            padding: "8dp"
            size_hint_x: .2
            pos_hint: {"center_x": .5, "center_y": .5}
            border_radius: 2
            MDLabel:
                text: "Tamaño Caja"
                font_style:'Subtitle1'
                theme_text_color: "Primary"
                size_hint_y: None
                height: self.texture_size[1]
                halign: "center"
                valign: "middle"
        MDCard:
            orientation: "vertical"
            padding: "8dp"
            size_hint_x: .2
            pos_hint: {"center_x": .5, "center_y": .5}
            border_radius: 2
            MDLabel:
                text: "Mini"
                font_style:'Subtitle1'
                theme_text_color: "Primary"
                size_hint_y: None
                height: self.texture_size[1]
                halign: "center"
                valign: "middle"
        MDCard:
            orientation: "vertical"
            padding: "8dp"
            size_hint_x: .2
            pos_hint: {"center_x": .5, "center_y": .5}
            border_radius: 2
            MDLabel:
                text: "Selecta"
                font_style:'Subtitle1'
                theme_text_color: "Primary"
                size_hint_y: None
                height: self.texture_size[1]
                halign: "center"
                valign: "middle"
        MDCard:
            orientation: "vertical"
            padding: "8dp"
            size_hint_x: .2
            pos_hint: {"center_x": .5, "center_y": .5}
            border_radius: 2
            MDLabel:
                text: "Blue"
                font_style:'Subtitle1'
                theme_text_color: "Primary"
                size_hint_y: None
                height: self.texture_size[1]
                halign: "center"
                valign: "middle"

<DataOrderActive>:
    MDBoxLayout:
        spacing: "10dp"
        MDCard:
            orientation: "vertical"
            padding: "8dp"
            size_hint_x: .2
            pos_hint: {"center_x": .5, "center_y": .5}
            border_radius: 2
            MDLabel:
                id: order_id
                text: "00000"
                font_style:'Subtitle1'
                theme_text_color: "Secondary"
                size_hint_y: None
                height: self.texture_size[1]
                halign: "center"
        MDCard:
            orientation: "vertical"
            padding: "8dp"
            size_hint_x: .2
            pos_hint: {"center_x": .5, "center_y": .5}
            border_radius: 2
            MDLabel:
                id: box_size
                text: "0"
                font_style:'Subtitle1'
                theme_text_color: "Secondary"
                size_hint_y: None
                height: self.texture_size[1]
                halign: "center"
        MDCard:
            orientation: "vertical"
            padding: "8dp"
            size_hint_x: .2
            pos_hint: {"center_x": .5, "center_y": .5}
            border_radius: 2
            MDLabel:
                id: box
                text: "P"
                font_style:'Subtitle1'
                theme_text_color: "Secondary"
                size_hint_y: None
                height: self.texture_size[1]
                halign: "center"
        MDCard:
            orientation: "vertical"
            padding: "8dp"
            size_hint_x: .2
            pos_hint: {"center_x": .5, "center_y": .5}
            border_radius: 2
            MDLabel:
                id: mini
                text: "0"
                font_style:'Subtitle1'
                theme_text_color: "Secondary"
                size_hint_y: None
                height: self.texture_size[1]
                halign: "center"
        MDCard:
            orientation: "vertical"
            padding: "8dp"
            size_hint_x: .2
            pos_hint: {"center_x": .5, "center_y": .5}
            border_radius: 2
            MDLabel:
                id:select
                text: "0"
                font_style:'Subtitle1'
                theme_text_color: "Secondary"
                size_hint_y: None
                height: self.texture_size[1]
                halign: "center"
        MDCard:
            orientation: "vertical"
            padding: "8dp"
            size_hint_x: .2
            pos_hint: {"center_x": .5, "center_y": .5}
            border_radius: 2
            MDLabel:
                id: blue
                text: "0"
                font_style:'Subtitle1'
                theme_text_color: "Secondary"
                size_hint_y: None
                height: self.texture_size[1]
                halign: "center"


<ClickableTextFieldRound>:
    id: password_layout
    size_hint_y: None
    height: field_password.height
    MDTextField:
        id: field_password
        hint_text: root.hint_text
        hint_text: "Clave"
        mode:"rectangle"
        text: root.text
        password: True
        color_active: app.theme_cls.primary_light
        icon_left: "key-variant"
    MDIconButton:
        icon: "eye-off"
        ripple_scale: .5
        pos_hint: {"center_y": .5}
        pos: field_password.width - self.width + dp(8), 0
        on_release:
            self.icon = "eye" if self.icon == "eye-off" else "eye-off"
            field_password.password = False if field_password.password is True else True

Screen:
    Toolbar:
        id:toolbar
        nav_drawer: nav_drawer
    NavigationLayout:
        x: toolbar.height
        WindowsManager:
            id: screen_manager
            ScreenHome:
                name: "Screen Home"
                id: screen_home
                BoxLayout:
                    orientation: 'vertical'
                    Toolbar:
                        id:toolbar
                        nav_drawer: nav_drawer
                    BottomNavigationHome:
                        id: bottom_navigation
                        panel_color: 0.7,0.7,0.7,1
                        MDBottomNavigationItem:
                            name: 'home'
                            text: 'Inicio'
                            icon: 'home'
                            Home:
                                id:home
                        MDBottomNavigationItem:
                            name: 'order'
                            text: 'Pedidos'
                            icon: 'clipboard-list'
                            Order:
                        MDBottomNavigationItem:
                            name: 'stats'
                            text: 'Estadísticas'
                            icon: 'trending-up'
                            Stats:
#                        MDBottomNavigationItem:
#                            id: bottom_history
#                            name: 'history'
#                            text: 'Historial'
#                            icon: 'history'
#                            History:
                        MDBottomNavigationItem:
                            id: bottom_setting
                            name: 'setting'
                            text: 'Configuraciones'
                            icon: 'cogs'
                            on_tab_release: bottom_navigation.check_admin()
                            Setting:
            Screen:
                screen_manager: screen_manager
                name: "Screen Login"
                Login:
            ScreenSignup:
                id: signup
                name: "Screen SignUp"
                SignUp:

        MDNavigationDrawer:
            id: nav_drawer
            ContentNavigationDrawer:
                id: content_drawer
                screen_manager: screen_manager
                nav_drawer: nav_drawer
